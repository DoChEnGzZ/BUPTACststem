# BUPTACststem
## 1、消息格式是所有通信格式样例

## 2、用户消息格式是小组讨论后的用户客户端和服务器通信的格式

## 3、Project文件夹中是新建好的3个QT工程

### 3.1 ACsystemServer 服务器

### 3.2 HotelCilent 前台 经理 管理员统一的客户端

### 3.3 BUPTACsystem/CustomerCilent 用户客户端

工程有2个文件因为大于50m无法上传，我百度了下说是vs的日志和报错处理文件，有没有没有差别。如果有因为没有这两个文件导致运行失败请找我我发给你们。

**大前提：**

1. **所有需要大组内统一的量应该用define或其它形式定义，方便修改，比如计费规则，温度变化规则，时间片长短等等。**
2. **客户端尽量不负责计算，应该只有UI和通信和其它模块。**

## 4、用户客户端的工作流程（验收组内统一）

前提：服务器不知道房间当前环境温度，环境温度开始默认是25度。

1. 从UI界面手动输入房间号
2. 开机，发送开机请求。
3. 开机后发送请求服务器实时更新费用的请求包，只在开机时附带发送一次。
4. 接收服务器的ACK，告知当前服务状态和默认风速和默认温度。UI界面应该告知当前服务状态，默认风速和默认温度。
5. 若收到消息处于服务状态或转变为服务状态，首先客户端回回一个ACK501包说明现在的环境温度，然后服务器会定期发送总费用和服务器根据温度变化规则计算得到的房间环境温度发给客户端，客户端修改UI界面上的环境温度和费用信息（房间的总费用）。
6. 若处于等待状态，服务器会告知等待时间，等待转为服务状态。
7. 用户点击UI界面上的关闭按钮，发送关闭请求，关闭后启动回温程序。

### 4.1回温程序

回温程序指在默认情况下模拟房间室温的自动变化过程。在房间关闭空调或者房间处于等待队列中，经过讨论无论冬夏都是默认回到24度。默认是1分钟回1度，等待小组内统一。


   ## 5、其它客户端和服务器的逻辑

和我们自己设计的一致即可。

## 6、统一的客户端的UI

可以一个界面是3个用户的面板，也可以是根据用户切换面板。

