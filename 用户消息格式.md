## 客户端请求

### 空调开启请求

~~~json
{
	"request": 100,
	"data":
     {
      	"RoomId":1,
		"TargetTemp":111,
		"FanSpeed":222,
		"CurrentTemp":333
     }
}
~~~
### 修改温度

~~~json
{
	"request": 200,
	"data":
     {
      	"RoomId":1,
		"TargetTemp":111,
     }
}
~~~

### 修改风速

~~~json
{
	"request": 300,
	"data":
     {
      	"RoomId":1,
		"FanSpeed":222,
     }
}
~~~

### 请求费用和温度（这个包只在客户端开启空调的时候发一次，告知服务器你的当前温度，服务器才能根据这个计算）

~~~json
{
	"request": 400,
	"data":
     {
      	"RoomId":1,
		"CurrentTemp":333,
     }
}
~~~

### 关闭

~~~json
{
	"request": 500,
	"data":
     {
      	"RoomId":1
     }
}
~~~

## 服务器应答

### 空调开启请求

#### 服务

~~~json
{
    "request":100,
    "ACK":101,
	"data":
    {
        "ServerId":111,
    }
}
~~~

#### 等待

~~~json
{
    "request":100,
    "ACK":102,
	"data":
    {
        "WaitId":111,
        "WaitTime":222//最好固定，否则不同组调度结果可能不同，固定的话这个就不用了
    },
}
~~~

#### 错误（温度设置不合理等）

~~~json
{
    "request":100,
    "ACK":103,
	"data":
    {
        "Type":"Temp out of range"
    },
}
~~~

### 修改温度

#### OK

~~~json
{
    "request":200,
    "ACK":201
}
~~~

#### ERROR

~~~json
{
    "request":200,
    "ACK":202
}
~~~

### 修改风速

#### OK

~~~json
{
    "request":300,
    "ACK":301
}
~~~

#### ERROR

~~~json
{
    "request":300,
    "ACK":302
}
~~~

### 请求费用和温度（这个包在服务器收到请求后，每隔一段时间比如5s，发一次，告知客户端当前的温度和总费用）

#### OK

~~~json
{
    "request":400,
    "ACK":401,
    "data":
    {
        "TotalFee":12345,
        "CurrentTemp":123
    }
}
~~~

#### ERROR

~~~json
{
    "request":400,
    "ACK":402
}
~~~

### 关闭

#### OK

~~~json
{
    "request":500,
    "ACK":501
}
~~~

#### ERROR

~~~json
{
    "request":500,
    "ACK":502
}
~~~

## 服务器通知

### 通知客户端服务已被停止

#### 到达指定温度停止

~~~json
{
	"request":600
}
~~~

#### 被抢占停止

~~~json
{
	"request": 700
}
~~~

## 客户端应答

#### 到达指定温度停止

##### OK（已经成功收到服务停止信号，启动回温程序成功）

~~~json
{
	"request":600,
    "ACK":601
}
~~~

##### ERROR（已经成功收到服务停止信号，启动回温程序失败）

~~~json
{
	"request": 600,
    "ACK":602
}
~~~

#### 被抢占停止

##### OK（已经成功收到服务停止信号，启动回温程序成功）

~~~json
{
	"request":700,
    "ACK":701
}
~~~

##### ERROR（已经成功收到服务停止信号，启动回温程序失败）

~~~json
{
	"request": 700,
    "ACK":702
}
~~~



| 请求代码                           | 编号 |
| ---------------------------------- | ---- |
| 开启                               | 100  |
| 修改温度                           | 200  |
| 修改风速                           | 300  |
| 请求费用和温度                     | 400  |
| 关闭                               | 500  |
| 通知客户端服务到达指定温度已被停止 | 600  |
| 通知客户端服务被抢占已被停止       | 700  |



| ACK                                      | 编号 |
| ---------------------------------------- | ---- |
| 开启-服务                                | 101  |
| 开启-等待                                | 102  |
| 错误（温度设置不合理等）                 | 103  |
| 修改温度-OK                              | 201  |
| 修改温度-ERROR                           | 202  |
| 修改风速-OK                              | 301  |
| 修改风速-ERROR                           | 302  |
| 请求费用和温度-OK                        | 401  |
| 请求费用和温度-ERROR                     | 402  |
| 关闭-OK                                  | 501  |
| 关闭-ERROR                               | 502  |
| 通知客户端服务到达指定温度已被停止-OK    | 601  |
| 通知客户端服务到达指定温度已被停止-ERROR | 602  |
| 通知客户端服务被抢占已被停止-OK          | 701  |
| 通知客户端服务被抢占已被停止-ERROR       | 702  |

